<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CS_LEUART_LAB7: C:/Users/Cyrus/SimplicityStudio/v5_workspace/3space/CS_LEUART_Lab7/src/Source Files/SI1133.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CS_LEUART_LAB7<span id="projectnumber">&#160;0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_s_i1133_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">SI1133.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Si1133 Setup file Fill in.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;Si1133.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac9d31424c99cfd02f00f3ae4e2ec5b2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_i1133_8c.html#aac9d31424c99cfd02f00f3ae4e2ec5b2">Si1133_configure</a> ()</td></tr>
<tr class="memdesc:aac9d31424c99cfd02f00f3ae4e2ec5b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures Si133 read operation from the sensor, setting channel0 active.  <a href="_s_i1133_8c.html#aac9d31424c99cfd02f00f3ae4e2ec5b2">More...</a><br /></td></tr>
<tr class="separator:aac9d31424c99cfd02f00f3ae4e2ec5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e54b2b22794cae21e3e13c54e1e1f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_i1133_8c.html#a80e54b2b22794cae21e3e13c54e1e1f9">Si1133_force</a> ()</td></tr>
<tr class="memdesc:a80e54b2b22794cae21e3e13c54e1e1f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">send force command to Si1133 sensor  <a href="_s_i1133_8c.html#a80e54b2b22794cae21e3e13c54e1e1f9">More...</a><br /></td></tr>
<tr class="separator:a80e54b2b22794cae21e3e13c54e1e1f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb56512b34d0328b5818b765da87af9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_i1133_8c.html#a5cb56512b34d0328b5818b765da87af9">SI1133_request_result</a> (uint32_t LIGHT_CB)</td></tr>
<tr class="memdesc:a5cb56512b34d0328b5818b765da87af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests a read operation from Si1133 sensor.  <a href="_s_i1133_8c.html#a5cb56512b34d0328b5818b765da87af9">More...</a><br /></td></tr>
<tr class="separator:a5cb56512b34d0328b5818b765da87af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5307d4c9abaffdb7e190c705b10cbf6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_i1133_8c.html#a5307d4c9abaffdb7e190c705b10cbf6c">Si1133_i2c_open</a> ()</td></tr>
<tr class="memdesc:a5307d4c9abaffdb7e190c705b10cbf6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes i2c parameters for specifically the Si1133 peripheral.  <a href="_s_i1133_8c.html#a5307d4c9abaffdb7e190c705b10cbf6c">More...</a><br /></td></tr>
<tr class="separator:a5307d4c9abaffdb7e190c705b10cbf6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e89e23121cd5c59a2fc0c673b80d16a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_i1133_8c.html#a6e89e23121cd5c59a2fc0c673b80d16a">Si1133_read</a> (uint32_t bytes_per_transfer, uint32_t register_address, uint32_t i2c_callback)</td></tr>
<tr class="memdesc:a6e89e23121cd5c59a2fc0c673b80d16a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a read operation on SI1133 peripheral.  <a href="_s_i1133_8c.html#a6e89e23121cd5c59a2fc0c673b80d16a">More...</a><br /></td></tr>
<tr class="separator:a6e89e23121cd5c59a2fc0c673b80d16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c0356e15d40cd6da4fff30efc0990f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_i1133_8c.html#a41c0356e15d40cd6da4fff30efc0990f">Si1133_write</a> (uint32_t bytes_per_transfer, uint32_t register_address, uint32_t i2c_callback)</td></tr>
<tr class="memdesc:a41c0356e15d40cd6da4fff30efc0990f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a write operation on SI1133 peripheral.  <a href="_s_i1133_8c.html#a41c0356e15d40cd6da4fff30efc0990f">More...</a><br /></td></tr>
<tr class="separator:a41c0356e15d40cd6da4fff30efc0990f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db06cb2354d041b20f81ba206598092"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_s_i1133_8c.html#a8db06cb2354d041b20f81ba206598092">Si1133_read_result</a> ()</td></tr>
<tr class="memdesc:a8db06cb2354d041b20f81ba206598092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns data placed in Si1133_read_data private variable.  <a href="_s_i1133_8c.html#a8db06cb2354d041b20f81ba206598092">More...</a><br /></td></tr>
<tr class="separator:a8db06cb2354d041b20f81ba206598092"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaea00f8dc3ff44386f852875a0bda2fc"><td class="memItemLeft" align="right" valign="top"><a id="aaea00f8dc3ff44386f852875a0bda2fc" name="aaea00f8dc3ff44386f852875a0bda2fc"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>Si1133_read_data</b></td></tr>
<tr class="separator:aaea00f8dc3ff44386f852875a0bda2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06bb3190a1822c98277eaa53361aa0db"><td class="memItemLeft" align="right" valign="top"><a id="a06bb3190a1822c98277eaa53361aa0db" name="a06bb3190a1822c98277eaa53361aa0db"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>periph_address</b> = 0x55</td></tr>
<tr class="separator:a06bb3190a1822c98277eaa53361aa0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f39a98e8e798464f819848ba4cc15e"><td class="memItemLeft" align="right" valign="top"><a id="a77f39a98e8e798464f819848ba4cc15e" name="a77f39a98e8e798464f819848ba4cc15e"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>Si1133_write_data</b></td></tr>
<tr class="separator:a77f39a98e8e798464f819848ba4cc15e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Si1133 Setup file Fill in. </p>
<dl class="section author"><dt>Author</dt><dd>Cyrus Sowdaey </dd></dl>
<dl class="section date"><dt>Date</dt><dd>10/17/2021 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aac9d31424c99cfd02f00f3ae4e2ec5b2" name="aac9d31424c99cfd02f00f3ae4e2ec5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac9d31424c99cfd02f00f3ae4e2ec5b2">&#9670;&nbsp;</a></span>Si1133_configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Si1133_configure </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures Si133 read operation from the sensor, setting channel0 active. </p>
<p >Resets counter initially to prevent miswrtes. After that, the RESPONSE0 reg is read and the value is stored in the CMD_CTR_DATA. Specified color is then written to sensor for white light in the INPUT0 register. Further configuration is done e first reset the reset cmd ctr to prevent any unwanted bugs. Then we read the response0 register which is what holds the cmd ctr. The value of CHANNEL0 is sent to INPUT0 and the chan list is sent to the command register. RESPONSE0 is read and it is ensured that the CMD CTR Data is incremented for a second time.</p>
<dl class="section note"><dt>Note</dt><dd>Called by Si1133_i2c_open, has no inputs. </dd></dl>

</div>
</div>
<a id="a80e54b2b22794cae21e3e13c54e1e1f9" name="a80e54b2b22794cae21e3e13c54e1e1f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e54b2b22794cae21e3e13c54e1e1f9">&#9670;&nbsp;</a></span>Si1133_force()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Si1133_force </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send force command to Si1133 sensor </p>
<p >Writes a force command to the command register so that it is executed</p>
<dl class="section note"><dt>Note</dt><dd>Call occurs in Comp1_Callback </dd></dl>

</div>
</div>
<a id="a5307d4c9abaffdb7e190c705b10cbf6c" name="a5307d4c9abaffdb7e190c705b10cbf6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5307d4c9abaffdb7e190c705b10cbf6c">&#9670;&nbsp;</a></span>Si1133_i2c_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Si1133_i2c_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes i2c parameters for specifically the Si1133 peripheral. </p>
<p >Configures a local <a class="el" href="struct_i2_c___o_p_e_n___s_t_r_u_c_t.html">I2C_OPEN_STRUCT</a>, si_values and places initial parameters within.</p>
<dl class="section note"><dt>Note</dt><dd>I2C open function is run with this configuration, after the struct is filled with variables. </dd></dl>

</div>
</div>
<a id="a6e89e23121cd5c59a2fc0c673b80d16a" name="a6e89e23121cd5c59a2fc0c673b80d16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e89e23121cd5c59a2fc0c673b80d16a">&#9670;&nbsp;</a></span>Si1133_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Si1133_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bytes_per_transfer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>register_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>i2c_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a read operation on SI1133 peripheral. </p>
<p >Calls <a class="el" href="i2c_8c.html#ae772ca9ccdd66fe017ccf6abc060ec74" title="Performs either a read or a write operation through i2c.">i2c_start()</a> with proper parameters to allow data to be read from SI1133</p>
<dl class="section note"><dt>Note</dt><dd>Called in <a class="el" href="app_8c.html" title="File responsible for functions to run all previously defined scheduling, energy mode,...">app.c</a> upon configuration completion.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bytes_per_transfer</td><td>Bytes to read in a transfer from peripheral (si1133)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">register_address</td><td>Register to be read from of peripheral (si1133)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i2c_callback</td><td>Callback function to run after read operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8db06cb2354d041b20f81ba206598092" name="a8db06cb2354d041b20f81ba206598092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db06cb2354d041b20f81ba206598092">&#9670;&nbsp;</a></span>Si1133_read_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Si1133_read_result </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns data placed in Si1133_read_data private variable. </p>
<p >This function return the read data from a private static struct in order to access the data within another file Called within callback function in <a class="el" href="app_8c.html" title="File responsible for functions to run all previously defined scheduling, energy mode,...">app.c</a> upon completion of operation.</p>
<dl class="section note"><dt>Note</dt><dd>Simple function, does not actively change any data, only returns an integer. </dd></dl>

</div>
</div>
<a id="a5cb56512b34d0328b5818b765da87af9" name="a5cb56512b34d0328b5818b765da87af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb56512b34d0328b5818b765da87af9">&#9670;&nbsp;</a></span>SI1133_request_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SI1133_request_result </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>LIGHT_CB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests a read operation from Si1133 sensor. </p>
<p >A total of two bytes should be read from the HOSTOUT0_REG</p>
<dl class="section note"><dt>Note</dt><dd>Call occurs from UB_Callback </dd></dl>

</div>
</div>
<a id="a41c0356e15d40cd6da4fff30efc0990f" name="a41c0356e15d40cd6da4fff30efc0990f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c0356e15d40cd6da4fff30efc0990f">&#9670;&nbsp;</a></span>Si1133_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Si1133_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bytes_per_transfer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>register_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>i2c_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a write operation on SI1133 peripheral. </p>
<p >Calls <a class="el" href="i2c_8c.html#ae772ca9ccdd66fe017ccf6abc060ec74" title="Performs either a read or a write operation through i2c.">i2c_start()</a> with proper parameters to allow data to be written to SI1133</p>
<dl class="section note"><dt>Note</dt><dd>Called in <a class="el" href="app_8c.html" title="File responsible for functions to run all previously defined scheduling, energy mode,...">app.c</a> upon configuration completion.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bytes_per_transfer</td><td>Bytes to write in a transfer to peripheral (si1133)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">register_address</td><td>Register to be written to of peripheral (si1133)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i2c_callback</td><td>Callback function to run after write operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b08c7e18a1c9321394998ac3912847c9.html">SimplicityStudio</a></li><li class="navelem"><a class="el" href="dir_b3edd0eea1165f6491d690b577770860.html">v5_workspace</a></li><li class="navelem"><a class="el" href="dir_0d6a383396627fac045b51d7b22c92f3.html">3space</a></li><li class="navelem"><a class="el" href="dir_980c4db6655ee21057fa562b2332c390.html">CS_LEUART_Lab7</a></li><li class="navelem"><a class="el" href="dir_3b5ea9ec5aeb665054e3be594462fa9b.html">src</a></li><li class="navelem"><a class="el" href="dir_897b86299fd0f8d72533df06c53203db.html">Source Files</a></li><li class="navelem"><a class="el" href="_s_i1133_8c.html">SI1133.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
